<html>

<head>
  <script src="https://aframe.io/releases/1.0.2/aframe.min.js"></script>
  <script src="//cdn.rawgit.com/donmccurdy/aframe-physics-system/v4.0.1/dist/aframe-physics-system.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.0.1/dist/aframe-extras.min.js"></script>
  <script src="trigger-cylinder.js"></script>
  <script src="components.js"></script>
</head>

<body>
  <a-scene fog="type: linear; color: #aaa; far: 70; near: 0" physics="debug:false; restitution:0.1; friction: 0.005;">
    <a-assets>
      <a-asset-item id="oak-model" src="assets/oak/scene.gltf"></a-asset-item>
    </a-assets>

    <a-entity position="-3 1 -14" rotation="0 40 0">
      <a-entity gltf-model="#oak-model" scale="0.005 0.005 0.005" position="0 -0.3 0">
      </a-entity>
      <a-cylinder radius="1.7" height="2" material="color: #888; opacity: 0; transparent: true;" position="0 3.4 0"
        trigger-cylinder="selector: [frisbee]"></a-cylinder>
      <a-cylinder radius="0.3" height="7" material="color: #888; opacity: 0; transparent: true;" static-body>
      </a-cylinder>
    </a-entity>


    <a-entity light="type: ambient; color: #ccc"></a-entity>
    <a-entity light="type: directional; color: #fff; intensity: 0.5" position="-0.5 1 1"></a-entity>


    <a-cylinder id="disc" radius="0.2" height="0.03" position="0.3 2 -4"
      material="color: #f80; transparent: true; opacity: 1;" dynamic-body frisbee>
    </a-cylinder>

    <a-entity id="rig" movement-controls kinematic-body="radius: 0.7;" position="0 0.5 0">
      <a-entity id="camera" camera="fov:60;" frisbee-thrower look-controls="pointerLockEnabled: true"
        position="0 1.6 0">
      </a-entity>
    </a-entity>

    <a-entity id="frisbee-marker" position="0 0 0">
      <a-entity frisbee-marker-part geometry="primitive:cylinder;radius:0.1;height: 2;" material="color:yellow;"
        animation="property: position; from: 0 4 0; to: 0 5 0; dur: 600; easing: linear; loop: true; dir: alternate;">
        <a-cone frisbee-marker-part radius-bottom="0.3" height="1" material="color:yellow;" rotation="180 0 0"
          position="0 -1.2 0">
        </a-cone>
      </a-entity>
    </a-entity>

    <a-entity basket position="-10 0.3 -25">
      <a-cylinder radius="0.5" height="0.2" material="color: #777;" position="0 0.5 0" static-body></a-cylinder>
      <a-cylinder radius="0.05" height="5.5" material="color: #777;" position="0 -1.5 0" static-body></a-cylinder>
      <a-cylinder radius="0.4" height="0.7" material="color: #888; opacity: 0.8; transparent: true;" position="0 0.9 0"
        trigger-cylinder="selector: [frisbee]">
      </a-cylinder>
      <a-cylinder radius="0.5" height="0.2" material="color: #DD3;" position="0 1.25 0" static-body></a-cylinder>
    </a-entity>

    <a-box width="1" height="3" depth="1" position="5 0 3" material="color: #222" static-body></a-box>
    <a-box width="1" height="10" depth="1" position="5 0 3" material="color: #222" static-body></a-box>
    <a-box width="1" height="3" depth="1" position="-3 0 -2" material="color: #222" static-body></a-box>

    <a-box width="200" height="1" depth="200" position="0 -1 0" material="color: green;" static-body></a-box>
    <a-sphere radius="50" position="3 -48 -20" static-body material="color: green;"></a-sphere>
    <a-entity geometry="primitive:sphere;radius:13;" material="color:green;" position="-20 -10 -15" static-body>
    </a-entity>
  </a-scene>
</body>

</html>